# CANDELA

**Compliant Auditable Natural-language Directive Enforcement & Ledger Anchoring**

*Illuminate AI behaviour through verifiable, pre-execution rule anchoring.*

[![Build Status](https://img.shields.io/badge/build-passing-brightgreen.svg)](https://github.com/jebus197/CANDELA) [![MIT Licence](https://img.shields.io/badge/licence-MIT-blue.svg)](docs/Licence)
[![CANDELA Project Brief](https://img.shields.io/badge/Project%20Brief-View%20on%20OSF-blue.svg)](YOUR_OSF_PROJECT_LINK_HERE)

---

## The Challenge: Making AI Reliable and Transparent

Large Language Models (LLMs) are powerful tools, but they can be unpredictable. They might provide incorrect information ("hallucinate"), stray from initial instructions ("drift"), or offer answers that are hard to audit. CANDELA aims to address these challenges through directive-driven governance and blockchain anchoring.

➡ **For a two-minute overview of the project, see our [Project Brief](docs/PROJECT_BRIEF.md).**  
➡ **For answers to common questions, see our [FAQ](docs/FAQ.md).**

---

## How CANDELA Works: A Solution Overview

CANDELA uses a software component called the **"Directive Guardian"** (middleware) that acts as a smart intermediary between a user (or application) and any LLM.

1. **Define the Rules (The "Directive Scaffold"):**  
   Human-readable rules ("directives") tell the LLM how to behave (e.g., be truthful, disclose uncertainty, follow specific reasoning methods). See `src/directives_schema.json`.

2. **Secure the Rulebook (Blockchain Anchoring):**  
   Before any interaction, the Guardian takes a SHA-256 hash of the entire directive set. This hash is anchored to a blockchain (testnet for PoC), serving as a publicly verifiable proof of the rule-set.

3. **Session Enforcement and Validation:**  
   The Guardian loads the local directives, verifies integrity, and incorporates them into LLM prompts. It checks responses for compliance and can flag or regenerate non-compliant outputs.

---

## Directive Bundle Integrity: The Role of the Hash

CANDELA ensures the directives governing AI behavior are exactly as intended, without undetected modifications.

- **SHA-256 Hash Example:**  
  `3cf5a9178cf726ed33ba0754fca66003ec469671a7cb799534052dccc6bddffa`  
  *(Generated by `python3 src/guardian_poc_v0.1.py` on `src/directives_schema.json` v3.2)*

- **Testnet:** Polygon Mumbai Testnet  
- **Manual Anchoring Date:** [Insert Date]  
- **Transaction ID (TxID):** [Insert Manual TxID]

*Note: Automated on-chain anchoring and verification are planned for the MVP.*

**Schema Readability:**  
For a commented version of the directive schema, see [`docs/example_directives_schema_annotated.jsonc`](docs/example_directives_schema_annotated.jsonc).  
The actual runtime schema is [`src/directives_schema.json`](src/directives_schema.json).

---

## Key Features & Goals of CANDELA

- **Pre-Execution Rule Verification:** Ensures behavioral rules *before* the LLM acts, using blockchain anchoring.
- **Micro-Directives:** Break complex behaviors into testable steps.
- **Transparent Governance:** All rule-sets are auditable and versioned.

---

## Repository Structure

| Path                                               | Purpose                                                        |
|----------------------------------------------------|----------------------------------------------------------------|
| `README.md`                                        | Main project overview.                                         |
| `docs/README.md`                                   | Copy of this README for redundancy.                            |
| `docs/Licence`                                     | MIT License for the project.                                   |
| `docs/Tech_Spec.md`                                | Technical architecture, workflow, and developer to-do list.    |
| `docs/ROADMAP.md`                                  | Planned development phases and milestones.                     |
| `docs/PROJECT_BRIEF.md`                            | Concise 2-minute project summary.                              |
| `docs/FAQ.md`                                      | Frequently Asked Questions.                                    |
| `docs/directives_README.md`                        | Explains directive schema and micro-directives.                |
| `docs/example_directives_schema_annotated.jsonc`   | Commented directive schema for human review.                   |
| `src/`                                             | Source code.                                                   |
| `src/directives_schema.json`                       | Machine-readable directive list (v3.2, 76 items).              |
| `src/guardian_poc_v0.1.py`                         | Main Proof-of-Concept script.                                  |
| `src/guardian_prototype.py`                        | Minimal/illustrative PoC script.                               |
| `src/guardian_extended.py`                         | Richer, more commented PoC script.                             |
| `requirements.txt`, `src/requirements.txt`         | Python dependencies.                                           |
| `tests/`                                           | Placeholder for future unit tests.                             |

---

## Quick Start (Proof-of-Concept v0.1)

To run the current Proof-of-Concept and verify the directive bundle hash locally:

1. **Clone the Repository:**
    ```bash
    git clone https://github.com/jebus197/CANDELA.git
    cd CANDELA
    ```

2. **Install Dependencies:**
    ```bash
    pip install -r requirements.txt
    # 'requests' is required; 'web3.py' is commented for future blockchain integration
    ```

3. **Run the Main PoC Script:**
    ```bash
    python3 src/guardian_poc_v0.1.py
    ```
    The output will show simulated blockchain anchoring, the computed directive bundle hash, and a JSON summary of a simulated LLM interaction.

---

## Roadmap Highlights

CANDELA is an evolving project. Key next steps include:

| Version | Milestone                                                                                          |
|---------|---------------------------------------------------------------------------------------------------|
| v0.2    | Real LLM API integration & automated Testnet anchoring.                                            |
| v0.3    | Enhanced validation logic and first unit test suite.                                               |
| v0.4+   | Expanded validation, semantic directive linking, empirical testing, public beta.                   |

See the full [ROADMAP.md](docs/ROADMAP.md) for details.

---

## Contributing

CANDELA is open-source and welcomes contributions! See `docs/Tech_Spec.md` for development areas and `docs/ROADMAP.md` for goals.

1. Fork the repository.
2. Create a feature branch.
3. Use Python best practices and clear comments.
4. Update `src/directives_schema.json` and re-generate the hash if modifying directives.

---

## How to Cite CANDELA

If you use CANDELA in research or projects, please cite it using the metadata in [`CITATION.cff`](CITATION.cff) or the OSF DOI:  
[YOUR_OSF_PROJECT_DOI_LINK_HERE]

---

## License

This project is licensed under the **MIT License** – see [`docs/Licence`](docs/Licence) for details.  
Copyright (c) 2024-2025 George Jackson (CANDELA Project Lead)

---

*CANDELA – Illuminating AI governance through verifiable directives.*
